// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"bytes"
	"encoding/json"
	"errors"
	"fmt"
)

type SourceMongodbMongoDBInstanceTypeMongoDBAtlasInstanceEnum string

const (
	SourceMongodbMongoDBInstanceTypeMongoDBAtlasInstanceEnumAtlas SourceMongodbMongoDBInstanceTypeMongoDBAtlasInstanceEnum = "atlas"
)

func (e SourceMongodbMongoDBInstanceTypeMongoDBAtlasInstanceEnum) ToPointer() *SourceMongodbMongoDBInstanceTypeMongoDBAtlasInstanceEnum {
	return &e
}

func (e *SourceMongodbMongoDBInstanceTypeMongoDBAtlasInstanceEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "atlas":
		*e = SourceMongodbMongoDBInstanceTypeMongoDBAtlasInstanceEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceMongodbMongoDBInstanceTypeMongoDBAtlasInstanceEnum: %v", v)
	}
}

// SourceMongodbMongoDBInstanceTypeMongoDBAtlas - The MongoDb instance to connect to. For MongoDB Atlas and Replica Set TLS connection is used by default.
type SourceMongodbMongoDBInstanceTypeMongoDBAtlas struct {
	// The URL of a cluster to connect to.
	ClusterURL string                                                   `json:"cluster_url"`
	Instance   SourceMongodbMongoDBInstanceTypeMongoDBAtlasInstanceEnum `json:"instance"`
}

type SourceMongodbMongoDbInstanceTypeReplicaSetInstanceEnum string

const (
	SourceMongodbMongoDbInstanceTypeReplicaSetInstanceEnumReplica SourceMongodbMongoDbInstanceTypeReplicaSetInstanceEnum = "replica"
)

func (e SourceMongodbMongoDbInstanceTypeReplicaSetInstanceEnum) ToPointer() *SourceMongodbMongoDbInstanceTypeReplicaSetInstanceEnum {
	return &e
}

func (e *SourceMongodbMongoDbInstanceTypeReplicaSetInstanceEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "replica":
		*e = SourceMongodbMongoDbInstanceTypeReplicaSetInstanceEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceMongodbMongoDbInstanceTypeReplicaSetInstanceEnum: %v", v)
	}
}

// SourceMongodbMongoDbInstanceTypeReplicaSet - The MongoDb instance to connect to. For MongoDB Atlas and Replica Set TLS connection is used by default.
type SourceMongodbMongoDbInstanceTypeReplicaSet struct {
	Instance SourceMongodbMongoDbInstanceTypeReplicaSetInstanceEnum `json:"instance"`
	// A replica set in MongoDB is a group of mongod processes that maintain the same data set.
	ReplicaSet *string `json:"replica_set,omitempty"`
	// The members of a replica set. Please specify `host`:`port` of each member separated by comma.
	ServerAddresses string `json:"server_addresses"`
}

type SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstanceInstanceEnum string

const (
	SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstanceInstanceEnumStandalone SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstanceInstanceEnum = "standalone"
)

func (e SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstanceInstanceEnum) ToPointer() *SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstanceInstanceEnum {
	return &e
}

func (e *SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstanceInstanceEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "standalone":
		*e = SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstanceInstanceEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstanceInstanceEnum: %v", v)
	}
}

// SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance - The MongoDb instance to connect to. For MongoDB Atlas and Replica Set TLS connection is used by default.
type SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance struct {
	// The host name of the Mongo database.
	Host     string                                                                `json:"host"`
	Instance SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstanceInstanceEnum `json:"instance"`
	// The port of the Mongo database.
	Port int64 `json:"port"`
}

type SourceMongodbMongoDbInstanceTypeType string

const (
	SourceMongodbMongoDbInstanceTypeTypeSourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance SourceMongodbMongoDbInstanceTypeType = "source-mongodb_MongoDb Instance Type_Standalone MongoDb Instance"
	SourceMongodbMongoDbInstanceTypeTypeSourceMongodbMongoDbInstanceTypeReplicaSet                SourceMongodbMongoDbInstanceTypeType = "source-mongodb_MongoDb Instance Type_Replica Set"
	SourceMongodbMongoDbInstanceTypeTypeSourceMongodbMongoDBInstanceTypeMongoDBAtlas              SourceMongodbMongoDbInstanceTypeType = "source-mongodb_MongoDb Instance Type_MongoDB Atlas"
)

type SourceMongodbMongoDbInstanceType struct {
	SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance *SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance
	SourceMongodbMongoDbInstanceTypeReplicaSet                *SourceMongodbMongoDbInstanceTypeReplicaSet
	SourceMongodbMongoDBInstanceTypeMongoDBAtlas              *SourceMongodbMongoDBInstanceTypeMongoDBAtlas

	Type SourceMongodbMongoDbInstanceTypeType
}

func CreateSourceMongodbMongoDbInstanceTypeSourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance(sourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance) SourceMongodbMongoDbInstanceType {
	typ := SourceMongodbMongoDbInstanceTypeTypeSourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance

	return SourceMongodbMongoDbInstanceType{
		SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance: &sourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance,
		Type: typ,
	}
}

func CreateSourceMongodbMongoDbInstanceTypeSourceMongodbMongoDbInstanceTypeReplicaSet(sourceMongodbMongoDbInstanceTypeReplicaSet SourceMongodbMongoDbInstanceTypeReplicaSet) SourceMongodbMongoDbInstanceType {
	typ := SourceMongodbMongoDbInstanceTypeTypeSourceMongodbMongoDbInstanceTypeReplicaSet

	return SourceMongodbMongoDbInstanceType{
		SourceMongodbMongoDbInstanceTypeReplicaSet: &sourceMongodbMongoDbInstanceTypeReplicaSet,
		Type: typ,
	}
}

func CreateSourceMongodbMongoDbInstanceTypeSourceMongodbMongoDBInstanceTypeMongoDBAtlas(sourceMongodbMongoDBInstanceTypeMongoDBAtlas SourceMongodbMongoDBInstanceTypeMongoDBAtlas) SourceMongodbMongoDbInstanceType {
	typ := SourceMongodbMongoDbInstanceTypeTypeSourceMongodbMongoDBInstanceTypeMongoDBAtlas

	return SourceMongodbMongoDbInstanceType{
		SourceMongodbMongoDBInstanceTypeMongoDBAtlas: &sourceMongodbMongoDBInstanceTypeMongoDBAtlas,
		Type: typ,
	}
}

func (u *SourceMongodbMongoDbInstanceType) UnmarshalJSON(data []byte) error {
	var d *json.Decoder

	sourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance := new(SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&sourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance); err == nil {
		u.SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance = sourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance
		u.Type = SourceMongodbMongoDbInstanceTypeTypeSourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance
		return nil
	}

	sourceMongodbMongoDbInstanceTypeReplicaSet := new(SourceMongodbMongoDbInstanceTypeReplicaSet)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&sourceMongodbMongoDbInstanceTypeReplicaSet); err == nil {
		u.SourceMongodbMongoDbInstanceTypeReplicaSet = sourceMongodbMongoDbInstanceTypeReplicaSet
		u.Type = SourceMongodbMongoDbInstanceTypeTypeSourceMongodbMongoDbInstanceTypeReplicaSet
		return nil
	}

	sourceMongodbMongoDBInstanceTypeMongoDBAtlas := new(SourceMongodbMongoDBInstanceTypeMongoDBAtlas)
	d = json.NewDecoder(bytes.NewReader(data))
	d.DisallowUnknownFields()
	if err := d.Decode(&sourceMongodbMongoDBInstanceTypeMongoDBAtlas); err == nil {
		u.SourceMongodbMongoDBInstanceTypeMongoDBAtlas = sourceMongodbMongoDBInstanceTypeMongoDBAtlas
		u.Type = SourceMongodbMongoDbInstanceTypeTypeSourceMongodbMongoDBInstanceTypeMongoDBAtlas
		return nil
	}

	return errors.New("could not unmarshal into supported union types")
}

func (u SourceMongodbMongoDbInstanceType) MarshalJSON() ([]byte, error) {
	if u.SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance != nil {
		return json.Marshal(u.SourceMongodbMongoDbInstanceTypeStandaloneMongoDbInstance)
	}

	if u.SourceMongodbMongoDbInstanceTypeReplicaSet != nil {
		return json.Marshal(u.SourceMongodbMongoDbInstanceTypeReplicaSet)
	}

	if u.SourceMongodbMongoDBInstanceTypeMongoDBAtlas != nil {
		return json.Marshal(u.SourceMongodbMongoDBInstanceTypeMongoDBAtlas)
	}

	return nil, nil
}

type SourceMongodbMongodbEnum string

const (
	SourceMongodbMongodbEnumMongodb SourceMongodbMongodbEnum = "mongodb"
)

func (e SourceMongodbMongodbEnum) ToPointer() *SourceMongodbMongodbEnum {
	return &e
}

func (e *SourceMongodbMongodbEnum) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "mongodb":
		*e = SourceMongodbMongodbEnum(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SourceMongodbMongodbEnum: %v", v)
	}
}

type SourceMongodb struct {
	// The authentication source where the user information is stored.
	AuthSource *string `json:"auth_source,omitempty"`
	// The database you want to replicate.
	Database string `json:"database"`
	// The MongoDb instance to connect to. For MongoDB Atlas and Replica Set TLS connection is used by default.
	InstanceType *SourceMongodbMongoDbInstanceType `json:"instance_type,omitempty"`
	// The password associated with this username.
	Password   *string                  `json:"password,omitempty"`
	SourceType SourceMongodbMongodbEnum `json:"sourceType"`
	// The username which is used to access the database.
	User *string `json:"user,omitempty"`
}
